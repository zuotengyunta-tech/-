from pytube import Playlist

playlist_url = "https://www.youtube.com/playlist?list=PLExT6MVBKs2CzmEcSCpaSQP_u7XONu6kD"
pl = Playlist(playlist_url)

items = []
for video in pl.videos:
    title = video.title.replace('"', '\\"')
    url = video.watch_url
    items.append(f'<li><a href="{url}" target="_blank">{title}</a></li>')

html = f"""<!DOCTYPE html>
<html lang="ja">
<head><meta charset="utf-8"><title>再生リストだけビュー</title></head>
<body>
  <h1>再生リスト</h1>
  <ul>
  {'\n  '.join(items)}
  </ul>
</body>
</html>
"""

with open("playlist.html", "w", encoding="utf-8") as f:
    f.write(html)

print("playlist.html を生成しました。")
